{
    "testcases": [
        {
            "name": "Login_Success",
            "rawcode": "import static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport static com.kms.katalon.core.testdata.TestDataFactory.findTestData\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject\nimport com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint\nimport com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW\nimport com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.testcase.TestCase as TestCase\nimport com.kms.katalon.core.testdata.TestData as TestData\nimport com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows\nimport internal.GlobalVariable as GlobalVariable\nimport org.openqa.selenium.Keys as Keys\n\nWebUI.openBrowser('')\n\nWebUI.navigateToUrl('https://hypershop-scys.onrender.com/account/login')\n\nWebUI.setText(findTestObject('Page_HyperS/username'), 'guestadmin@gmail.com')\n\nWebUI.setEncryptedText(findTestObject('Page_HyperS/password'), 'vckfKYHQ/X5a0LrHpsIEKA==')\n\nWebUI.click(findTestObject('Page_HyperS/btn_login'))\n\nWebUI.waitForElementVisible(findTestObject('Page_HyperS/btn_quay_lai'), 20)\n\nWebUI.click(findTestObject('Page_HyperS/btn_quay_lai'))\n\nWebUI.delay(3)"
        },
        {
            "name": "Banner_01",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport static com.kms.katalon.core.testdata.TestDataFactory.findTestData\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject\nimport com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint\nimport com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW\nimport com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.testcase.TestCase as TestCase\nimport com.kms.katalon.core.testdata.TestData as TestData\nimport com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows\nimport internal.GlobalVariable as GlobalVariable\nimport org.openqa.selenium.Keys as Keys\n\n// 1. Login\nWebUI.callTestCase(findTestCase('Login_success'), [:], FailureHandling.STOP_ON_FAILURE)\n\nWebUI.delay(2)\n\n// 2. Truy cập trang \"Quản lý Banner\"\nWebUI.click(findTestObject('Page_HyperS/div_quan_ly_banner'))\n\n// 3. Verify hiển thị trang danh sách banner\nWebUI.verifyElementText(findTestObject('Page_HyperS/div_danh_sach_banner'), 'DANH SÁCH BANNER')\n\n// 4. Bỏ chọn filter \"Đang được sử dụng\"\nWebUI.click(findTestObject('Page_HyperS/checkbox_dang_duoc_su_dung'))\n\n// 5. Chọn filter \"Ngưng hoạt động\"\nWebUI.click(findTestObject('Page_HyperS/checkbox_ngung_su_dung'), FailureHandling.STOP_ON_FAILURE)\n\nWebUI.delay(1)\n\n// 6. Lấy toàn bộ giá trị cột Trạng thái trong bảng\nTestObject statusColTO = findTestObject('Page_HyperS/trang_thai')\n\n// timeout 10s để chờ table load xong\nList<WebElement> statusElements = WebUI.findWebElements(statusColTO, 10)\n\n// (Optional) log số dòng tìm được\nWebUI.comment('Số dòng trạng thái tìm được: ' + statusElements.size())\n\n// 7. Kiểm tra tất cả các dòng đều có trạng thái \"Ngưng hoạt động\"\nint rowIndex = 1\n\nfor (WebElement el : statusElements) {\n    String statusText = el.getText().trim()\n\n    WebUI.comment((('Dòng ' + rowIndex) + ' - Trạng thái: ') + statusText)\n\n    // Nếu có bất kỳ trạng thái nào khác \"Ngưng hoạt động\" thì testcase sẽ Fail\n    WebUI.verifyMatch(statusText, 'Ngưng hoạt động', false)\n\n    rowIndex++\n}\n\nWebUI.closeBrowser()"
        },
        {
            "name": "Banner_02",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport static com.kms.katalon.core.testdata.TestDataFactory.findTestData\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject\nimport com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint\nimport com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW\nimport com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.testcase.TestCase as TestCase\nimport com.kms.katalon.core.testdata.TestData as TestData\nimport com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows\nimport internal.GlobalVariable as GlobalVariable\nimport org.openqa.selenium.Keys as Keys\n\n// 1. Login\nWebUI.callTestCase(findTestCase('Login_success'), [:], FailureHandling.STOP_ON_FAILURE)\n\nWebUI.delay(2)\n\n// 2. Truy cập trang \"Quản lý Banner\"\nWebUI.click(findTestObject('Page_HyperS/div_quan_ly_banner'))\n\n// 3. Verify hiển thị trang danh sách banner\nWebUI.verifyElementText(findTestObject('Page_HyperS/div_danh_sach_banner'), 'DANH SÁCH BANNER')\n\n// 4. Bỏ chọn filter \"Đang được sử dụng\"\nWebUI.click(findTestObject('Page_HyperS/checkbox_dang_duoc_su_dung'))\n\nWebUI.delay(1)\n\n// 5. Chọn loại banner = \"Đoạn video\"\nWebUI.click(findTestObject('Page_HyperS/span_chon_loai_banner'))\nWebUI.click(findTestObject('Page_HyperS/span_doan_video'))\n\n// Chờ grid load lại\nWebUI.delay(1)\n\n// 6. Verify tất cả dòng trong bảng đều có loại = \"Đoạn video\"\nTestObject colLoaiBanner = findTestObject('Page_HyperS/loai_banner')\n\n// Lấy toàn bộ WebElement của cột loại banner\nList<WebElement> typeElements = WebUI.findWebElements(colLoaiBanner, 10)\n\nWebUI.comment('Số dòng tìm được sau khi lọc: ' + typeElements.size())\n\nint rowIndex = 1\nfor (WebElement el : typeElements) {\n    String typeText = el.getText().trim()\n    WebUI.comment(\"Dòng \" + rowIndex + \" - Loại banner: \" + typeText)\n    \n    // Nếu có dòng nào không phải \"Đoạn video\" -> test fail\n    WebUI.verifyMatch(typeText, 'Đoạn video', false)\n    \n    rowIndex++\n}\n\nWebUI.closeBrowser()"
        },
        {
            "name": "Banner_03",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport static com.kms.katalon.core.testdata.TestDataFactory.findTestData\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject\nimport com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint\nimport com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW\nimport com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.testcase.TestCase as TestCase\nimport com.kms.katalon.core.testdata.TestData as TestData\nimport com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows\nimport internal.GlobalVariable as GlobalVariable\nimport org.openqa.selenium.Keys as Keys\n\n// 1. Login\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\n\nWebUI.delay(2)\n\n// 2. Truy cập trang \"Quản lý Banner\"\nWebUI.click(findTestObject('Page_HyperS/div_quan_ly_banner'))\n\n// 3. Verify hiển thị trang danh sách banner\nWebUI.verifyElementText(findTestObject('Page_HyperS/div_danh_sach_banner'), 'DANH SÁCH BANNER')\n\n// 4. Bỏ chọn filter \"Đang được sử dụng\"\nWebUI.click(findTestObject('Page_HyperS/checkbox_dang_duoc_su_dung'))\n\nWebUI.delay(1)\n\n// 5. Nhập từ khóa \"new\" vào ô tìm kiếm tiêu đề và nhấn Enter\nTestObject inputSearch = findTestObject('Page_HyperS/tim_kiem_theo_tieu_de')\n\nWebUI.click(inputSearch)\nWebUI.setText(inputSearch, 'new')\nWebUI.sendKeys(inputSearch, Keys.chord(Keys.ENTER))\n\n// Chờ grid load lại\nWebUI.delay(1)\n\n// 6. Verify tất cả dòng trong bảng đều có tiêu đề chứa \"new\"\n\n// Tạo TestObject động cho cột tiêu đề (column-2)\nTestObject colTieuDe = new TestObject('dynamic_colTieuDe')\ncolTieuDe.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//table[contains(@class,'k-grid-table')]//tbody//tr/td[2]//div[contains(@class,'column-2')]\"\n)\n\n// Lấy toàn bộ WebElement của cột tiêu đề\nList<WebElement> titleElements = WebUI.findWebElements(colTieuDe, 10)\n\nWebUI.comment('Số dòng tìm được sau khi search: ' + titleElements.size())\n\n// Nếu không có dòng nào thì fail (tùy rule của bạn, có thể cho pass nếu cho phép kết quả rỗng)\nWebUI.verifyGreaterThan(titleElements.size(), 0)\n\n// 7. Kiểm tra từng dòng: tiêu đề phải chứa \"new\" (không phân biệt hoa/thường)\nint rowIndex = 1\nfor (WebElement el : titleElements) {\n    String titleText = el.getText().trim()\n    WebUI.comment(\"Dòng \" + rowIndex + \" - Tiêu đề: \" + titleText)\n\n    // so sánh không phân biệt hoa/thường\n    String lowerTitle = titleText.toLowerCase()\n    WebUI.verifyMatch(lowerTitle, '.*new.*', true)   // regex: phải chứa \"new\"\n\n    rowIndex++\n}\n\nWebUI.closeBrowser()"
        },
        {
            "name": "Banner_04",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.testobject.ConditionType as ConditionType\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport org.openqa.selenium.Keys as Keys\nimport static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport static com.kms.katalon.core.testdata.TestDataFactory.findTestData\nimport static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject\nimport com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint\nimport com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW\nimport com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.testcase.TestCase as TestCase\nimport com.kms.katalon.core.testdata.TestData as TestData\nimport com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW\nimport com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS\nimport com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows\nimport internal.GlobalVariable as GlobalVariable\n\n// 1. Login\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\n\nWebUI.delay(2)\n\n// 2. Vào trang Quản lý Banner\nWebUI.click(findTestObject('Page_HyperS/div_quan_ly_banner'))\n\nWebUI.verifyElementText(findTestObject('Page_HyperS/div_danh_sach_banner'), 'DANH SÁCH BANNER')\n\n// 3. Nhập từ khóa \"new\"\nTestObject inputSearch = findTestObject('Page_HyperS/tim_kiem_theo_tieu_de')\n\nWebUI.click(inputSearch)\n\nWebUI.setText(inputSearch, 'new')\n\nWebUI.sendKeys(inputSearch, Keys.chord(Keys.ENTER))\n\nWebUI.delay(1)\n\n// 4. Chọn loại banner = Hình ảnh\nWebUI.click(findTestObject('Page_HyperS/span_chon_loai_banner'))\n\nWebUI.delay(1)\n\nWebUI.click(findTestObject('Page_HyperS/span_hinh_anh'))\n\nWebUI.delay(1)\n\n// 5. Verify kết quả: tiêu đề chứa \"new\" + loại = \"Hình ảnh\"\n// --- Cột tiêu đề ---\nTestObject colTitle = new TestObject('dynamic_title')\n\ncolTitle.addProperty('xpath', ConditionType.EQUALS, '//table[contains(@class,\\'k-grid-table\\')]//tbody//tr/td[2]//div[contains(@class,\\'column-2\\')]')\n\n// --- Cột loại banner ---\nTestObject colLoai = new TestObject('dynamic_type')\n\ncolLoai.addProperty('xpath', ConditionType.EQUALS, '//table[contains(@class,\\'k-grid-table\\')]//tbody//tr/td[1]//div[contains(@class,\\'banner-type\\')]')\n\nList<WebElement> titleList = WebUI.findWebElements(colTitle, 10)\n\nList<WebElement> typeList = WebUI.findWebElements(colLoai, 10)\n\nWebUI.comment('Số dòng tìm được: ' + titleList.size())\n\nif (titleList.size() == 0) {\n    // Không có kết quả -> verify hiển thị \"No records available.\"\n    TestObject noRecordMsg = new TestObject('dynamic_noRecordMsg')\n\n    noRecordMsg.addProperty('xpath', ConditionType.EQUALS, '//tr[contains(@class,\\'k-grid-norecords\\')]/td[contains(normalize-space(),\\'No records available.\\')]')\n\n    WebUI.verifyElementPresent(noRecordMsg, 10)\n\n    WebUI.verifyElementText(noRecordMsg, 'No records available.')\n\n    WebUI.comment('Không có bản ghi nào phù hợp. Hệ thống hiển thị \"No records available.\" đúng như mong đợi.') // Có kết quả -> verify từng dòng\n    // Check title có chứa \"new\"\n    // Check loại = Hình ảnh\n} else {\n    for (int i = 0; i < titleList.size(); i++) {\n        String titleText = (titleList[i]).getText().trim().toLowerCase()\n\n        String typeText = (typeList[i]).getText().trim()\n\n        WebUI.comment((((('Dòng ' + (i + 1)) + ' | Tiêu đề: ') + titleText) + ' | Loại: ') + typeText)\n\n        WebUI.verifyMatch(titleText, '.*new.*', true)\n\n        WebUI.verifyMatch(typeText, 'Hình ảnh', false)\n    }\n    \n    WebUI.comment('Đã xác nhận tất cả dòng đều có tiêu đề chứa \\'new\\' và loại \\'Hình ảnh\\'')\n}"
        },
        {
            "name": "Banner_05",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.testobject.ConditionType as ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// ================== TIỀN ĐIỀU KIỆN ==================\n// Phụ thuộc vào Banner_04 -> chạy trước để đang ở trạng thái đã filter\nWebUI.callTestCase(findTestCase('Banner_04'), [:], FailureHandling.STOP_ON_FAILURE)\n\n// ================== BẮT ĐẦU TEST \"XÓA BỘ LỌC\" ==================\n// 1. Click nút \"Xóa bộ lọc\"\n// Có thể tạo Test Object riêng trong Repository, nhưng ở đây mình tạo dynamic cho nhanh\nTestObject btnClearFilter = new TestObject('btn_clear_filter')\n\nbtnClearFilter.addProperty('xpath', ConditionType.EQUALS, '//div[@class=\\'label-delete-filter\\' and normalize-space()=\\'Xóa bộ lọc\\']')\n\nWebUI.click(findTestObject('Page_HyperS/btn_xoa_bo_loc'))\n\n// 2. Chờ hệ thống load lại\nWebUI.delay(1)\n\n// ================== VERIFY KẾT QUẢ ==================\n// 2.1 Trường tìm kiếm quay về mặc định (trống)\nTestObject inputSearch = findTestObject('Page_HyperS/tim_kiem_theo_tieu_de')\n\nString searchValue = WebUI.getAttribute(inputSearch, 'value')\n\nWebUI.comment(('Giá trị ô search sau khi Xóa bộ lọc: \"' + searchValue) + '\"')\n\nWebUI.verifyMatch(searchValue, '', false)\n\n// 2.2 Dropdown \"Chọn loại banner\" quay về default\nTestObject ddLoaiBanner = findTestObject('Page_HyperS/span_chon_loai_banner')\n\n// span_chon_loai_banner phải trỏ tới span có text dạng \"-- Chọn loại banner --\"\nWebUI.verifyElementText(findTestObject('Page_HyperS/span_chon_loai_banner'), '-- Chọn loại banner --')\n\n// 2.3 Checkbox \"Đang được sử dụng\" đang được bật (filter trạng thái đang được sử dụng)\nTestObject cbDangDuocSuDung = findTestObject('Page_HyperS/checkbox_dang_duoc_su_dung')\n\nWebUI.verifyElementChecked(findTestObject('Page_HyperS/checkbox_dang_duoc_su_dung'), 5)\n\n// 2.4 Danh sách chỉ hiển thị trạng thái \"Đang được sử dụng\"\n// Tạo dynamic TestObject cho cột trạng thái (column-6)\nTestObject colTrangThai = new TestObject('dynamic_colTrangThai')\n\ncolTrangThai.addProperty('xpath', ConditionType.EQUALS, '//table[contains(@class,\\'k-grid-table\\')]//tbody//tr/td[6]//div[contains(@class,\\'column-6\\')]')\n\n// Lấy tất cả cell trạng thái\nList<WebElement> statusList = WebUI.findWebElements(findTestObject('Page_HyperS/trang_thai'), 10)\n\nWebUI.comment('Số dòng trạng thái sau khi Xóa bộ lọc: ' + statusList.size())\n\n// Có ít nhất 1 bản ghi (tùy business, nếu hệ thống có thể không có bản ghi thì bỏ dòng này)\nif (statusList.size() == 0) {\n    WebUI.comment('Không có bản ghi nào sau khi Xóa bộ lọc - cần kiểm tra lại dữ liệu test.') // Tất cả đều phải là \"Đang được sử dụng\"\n} else {\n    int rowIdx = 1\n\n    for (WebElement el : statusList) {\n        String statusText = el.getText().trim()\n\n        WebUI.comment((('Dòng ' + rowIdx) + ' - Trạng thái: ') + statusText)\n\n        WebUI.verifyMatch(statusText, 'Đang được sử dụng', false)\n\n        rowIdx++\n    }\n}\n\nWebUI.comment('Đã xác nhận: Xóa bộ lọc -> search trống, loại banner về mặc định, danh sách lọc theo \"Đang được sử dụng\"')\n\n// Kết thúc (tùy flow framework của bạn có closeBrowser ở teardown hay không)\nWebUI.closeBrowser()"
        },
        {
            "name": "Banner_06",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.testobject.ConditionType as ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// ================== 1. DATA GIẢ ==================\nString page = 'Trang chủ Ecom' // giá trị phải đúng với option trong dropdown\n\nString location = 'Vị trí 1'\n\nString title = 'Auto Banner NEW ' + System.currentTimeMillis()\n\nString type = 'Đoạn video' // ví dụ: \"Hình ảnh\" / \"Đoạn video\" tuỳ hệ thống\n\nWebUI.comment('=== DATA TEST ===')\n\nWebUI.comment('Page     = ' + page)\n\nWebUI.comment('Location = ' + location)\n\nWebUI.comment('Title    = ' + title)\n\nWebUI.comment('Type     = ' + type)\n\n// ================== 2. LOGIN ==================\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\n\nWebUI.delay(2)\n\n// ================== 3. VÀO TRANG QUẢN LÝ BANNER ==================\nWebUI.click(findTestObject('Page_HyperS/div_quan_ly_banner'))\n\nWebUI.verifyElementText(findTestObject('Page_HyperS/div_danh_sach_banner'), 'DANH SÁCH BANNER')\n\n// ================== 4. ĐẾM SỐ DÒNG TRƯỚC KHI THÊM ==================\nTestObject rowObject = new TestObject('dynamic_rows')\n\nrowObject.addProperty('xpath', ConditionType.EQUALS, '//table[contains(@class,\\'k-grid-table\\')]//tbody//tr[not(contains(@class,\\'k-grid-norecords\\'))]')\n\nList<WebElement> rowsBefore = WebUI.findWebElements(rowObject, 10)\n\nint countBefore = rowsBefore.size()\n\nWebUI.comment('Số dòng trước khi thêm: ' + countBefore)\n\n// ================== 5. NHẤN NÚT \"THÊM MỚI\" (MỞ DRAWER) ==================\nWebUI.click(findTestObject('Page_HyperS/Banner_06/btn_them_moi'))\n\nWebUI.delay(1)\n\n// --- 6.1 Trang hiển thị (dropdown) ---\nWebUI.click(findTestObject('Page_HyperS/Banner_06/trang_hien_thi'))\n\nTestObject optPage = new TestObject('optPage')\noptPage.addProperty('xpath', ConditionType.EQUALS,\n        \"//li[contains(@class,'k-list-item')]//span[normalize-space(text())='\" + page + \"']\")\n\nWebUI.waitForElementVisible(optPage, 10)\nWebUI.waitForElementClickable(optPage, 10)\nWebUI.click(optPage)\n\n// --- 6.2 Vị trí hiển thị ---\nWebUI.click(findTestObject('Page_HyperS/Banner_06/vi_tri_hien_thi'))\n\nTestObject optLocation = new TestObject('optLocation') \n\noptLocation.addProperty('xpath', ConditionType.EQUALS, \"//li[contains(@class,'k-list-item')]//span[normalize-space(text())='\" + location + \"']\") \n\nWebUI.waitForElementVisible(optLocation, 10)\nWebUI.waitForElementClickable(optLocation, 10)\nWebUI.click(optLocation)\n\n// --- 6.3 Tiêu đề (text input) ---\nWebUI.setText(findTestObject('Page_HyperS/Banner_06/tieu_de'), title)\n\n// --- 6.4 Loại banner (dropdown) ---\nWebUI.click(findTestObject('Page_HyperS/Banner_06/them_moi_loai_banner'))\n\nTestObject optType = new TestObject('optType')\noptType.addProperty('xpath', ConditionType.EQUALS,\n        \"//li[contains(@class,'k-list-item')]//span[normalize-space(text())='\" + type + \"']\")\n\nWebUI.waitForElementVisible(optType, 10)\nWebUI.waitForElementClickable(optType, 10)\nWebUI.click(optType)\n\n// 6.4.1 Đường dẫn video\nTestObject inputVideoUrl = new TestObject('inputVideoUrl')\ninputVideoUrl.addProperty(\n\t'xpath',\n\tConditionType.EQUALS,\n\t\"//label[contains(normalize-space(),'Đường dẫn đoạn video')]/following::input[@class='k-input-inner' and @placeholder='Nhập đường dẫn của video...'][1]\"\n)\n\nWebUI.setText(inputVideoUrl, \"https://www.youtube.com/embed/UbpuZCB3x9k\")\n\n\n// ================== 7. NHẤN \"THÊM MỚI\" ==================\nWebUI.click(findTestObject('Page_HyperS/Banner_06/btn_luu_them_moi'))\n\nWebUI.delay(2)\n\n// ================== 8. VERIFY KẾT QUẢ (CHECK THEO TÊN) ==================\n\nTestObject newBanner = new TestObject('newBanner')\nnewBanner.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//table[contains(@class,'k-grid-table')]//tbody//tr\" +\n    \"/td[2]//div[contains(@class,'column-2') and normalize-space(text())='${title}']\"\n)\n\n// Chờ banner xuất hiện trong danh sách\nWebUI.waitForElementVisible(newBanner, 10)\n\n// Kiểm tra tồn tại\nWebUI.verifyElementPresent(newBanner, 10)\n\nWebUI.comment('✅ TIM THẤY BANNER VỪA TẠO: ' + title)\n\n// ================== 9. KẾT THÚC ==================\nWebUI.closeBrowser()"
        },
        {
            "name": "Banner_07",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.testobject.ConditionType as ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// ================== 1. DATA GIẢ ==================\nString page     = 'Trang chủ Ecom'\nString location = 'Vị trí 1'\nString title    = 'Auto Banner IMG ' + System.currentTimeMillis()\nString type     = 'Hình ảnh'   // <-- để trigger flow hình ảnh\n\nWebUI.comment('=== DATA TEST ===')\nWebUI.comment(\"Page     = ${page}\")\nWebUI.comment(\"Location = ${location}\")\nWebUI.comment(\"Title    = ${title}\")\nWebUI.comment(\"Type     = ${type}\")\n\n// ================== 2. LOGIN ==================\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// ================== 3. VÀO TRANG QUẢN LÝ BANNER ==================\nWebUI.click(findTestObject('Page_HyperS/div_quan_ly_banner'))\nWebUI.verifyElementText(findTestObject('Page_HyperS/div_danh_sach_banner'), 'DANH SÁCH BANNER')\n\n// ================== 4. NHẤN \"THÊM MỚI\" MỞ POPUP ==================\nWebUI.click(findTestObject('Page_HyperS/Banner_06/btn_them_moi'))\nWebUI.delay(1)\n\n// ================== 5. ĐIỀN FORM NHƯ BÌNH THƯỜNG ==================\n\n// --- 5.1 Trang hiển thị ---\nWebUI.click(findTestObject('Page_HyperS/Banner_06/trang_hien_thi'))\n\nTestObject optPage = new TestObject('optPage')\noptPage.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//li[contains(@class,'k-list-item')]//*[normalize-space(text())='${page}']\"\n)\nWebUI.waitForElementVisible(optPage, 10)\nWebUI.waitForElementClickable(optPage, 10)\nWebUI.click(optPage)\n\n// --- 5.2 Vị trí hiển thị ---\nWebUI.click(findTestObject('Page_HyperS/Banner_06/vi_tri_hien_thi'))\n\nTestObject optLocation = new TestObject('optLocation')\noptLocation.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//li[contains(@class,'k-list-item')]//*[normalize-space(text())='${location}']\"\n)\nWebUI.waitForElementVisible(optLocation, 10)\nWebUI.waitForElementClickable(optLocation, 10)\nWebUI.click(optLocation)\n\n// --- 5.3 Tiêu đề ---\nWebUI.setText(findTestObject('Page_HyperS/Banner_06/tieu_de'), title)\n\n// --- 5.4 Loại banner = Hình ảnh ---\nWebUI.click(findTestObject('Page_HyperS/Banner_06/them_moi_loai_banner'))\n\nTestObject optType = new TestObject('optType')\noptType.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//li[contains(@class,'k-list-item')]//*[normalize-space(text())='${type}']\"\n)\nWebUI.waitForElementVisible(optType, 10)\nWebUI.waitForElementClickable(optType, 10)\nWebUI.click(optType)\n\n// **Lưu ý:** KHÔNG chọn hình ảnh -> để trống control upload/image position\n\n// ================== 6. NHẤN \"THÊM MỚI\" ==================\nWebUI.click(findTestObject('Page_HyperS/Banner_06/btn_luu_them_moi'))\n\n// ================== 7. VERIFY THÔNG BÁO VALIDATION ==================\nTestObject toastImageRequired = new TestObject('toastImageRequired')\ntoastImageRequired.addProperty(\n\t'xpath',\n\tConditionType.EQUALS,\n\t\"//div[contains(@class,'k-notification-content') and contains(normalize-space(),'Vui lòng chọn hình ảnh')]\"\n)\n\n// Chờ toast xuất hiện (present + visible cho chắc)\nWebUI.waitForElementPresent(toastImageRequired, 10)\nWebUI.waitForElementVisible(toastImageRequired, 10)\n\n// Lấy text thực tế\nString actualMsg = WebUI.getText(toastImageRequired).trim()\nWebUI.comment(\"Notification message: \" + actualMsg)\n\n// So sánh đúng thông điệp mong đợi (cho phép dư khoảng trắng 2 bên)\nWebUI.verifyMatch(actualMsg, '.*Vui lòng chọn hình ảnh.*', true)\n\nWebUI.comment('✅ VALIDATION KHÔNG CHỌN HÌNH ẢNH HIỂN THỊ ĐÚNG THÔNG ĐIỆP')\n\n// ================== 8. KẾT THÚC ==================\nWebUI.closeBrowser()"
        },
        {
            "name": "Banner_08",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\nimport com.kms.katalon.core.testobject.TestObject as TestObject\nimport com.kms.katalon.core.testobject.ConditionType as ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport org.openqa.selenium.Keys as Keys\n\n// ================== 1. DATA ==================\nString oldTitle = 'trtrtrtr'\nString newTitle = 'Banner 3'\n\nWebUI.comment('=== EDIT BANNER TEST ===')\nWebUI.comment(\"Old title = ${oldTitle}\")\nWebUI.comment(\"New title = ${newTitle}\")\n\n// ================== 2. LOGIN ==================\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// ================== 3. VÀO TRANG QUẢN LÝ BANNER ==================\nWebUI.click(findTestObject('Page_HyperS/div_quan_ly_banner'))\nWebUI.verifyElementText(findTestObject('Page_HyperS/div_danh_sach_banner'), 'DANH SÁCH BANNER')\n\n// ================== 4. CLICK NÚT \"...\" Ở DÒNG TIÊU ĐỀ = \"Phổ biến\" ==================\nTestObject btnMore = new TestObject('btnMore')\nbtnMore.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//table[contains(@class,'k-grid-table')]//tbody//tr[\" +\n        \".//td[2]//div[contains(@class,'column-2') and normalize-space(text())='${oldTitle}']\" +\n    \"]//div[contains(@class,'tool-box-container')]//i[contains(@class,'fa-ellipsis')]\"\n)\n\nWebUI.waitForElementVisible(btnMore, 10)\nWebUI.waitForElementClickable(btnMore, 10)\nWebUI.click(btnMore)\n\n// ================== 5. CHỌN \"CHỈNH SỬA\" ==================\nTestObject btnEdit = new TestObject('btnEdit')\nbtnEdit.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'list-action')]//span[normalize-space(text())='Chỉnh sửa']\"\n)\n\nWebUI.waitForElementVisible(btnEdit, 10)\nWebUI.click(btnEdit)\n\n// ================== 6. SỬA TIÊU ĐỀ TRONG POPUP/ DRAWER ==================\n\n// Input Tiêu đề (giống cấu trúc khi thêm mới)\nTestObject inputTitle = new TestObject('inputTitle')\ninputTitle.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//label[contains(normalize-space(),'Tiêu đề')]/following::input[@class='k-input-inner' and @placeholder='Nhập tiêu đề...'][1]\"\n)\n\nWebUI.waitForElementVisible(inputTitle, 10)\nWebUI.click(inputTitle)\n\n// CÁCH 1: dùng clearText cho đơn giản\nWebUI.clearText(inputTitle)\n\n// nhập title mới\nWebUI.setText(inputTitle, newTitle)\n\n// ================== 7. NHẤN \"CẬP NHẬT\" ==================\nTestObject btnUpdate = new TestObject('btnUpdate')\nbtnUpdate.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//span[normalize-space(text())='Cập nhật']\"\n)\n\nWebUI.waitForElementClickable(btnUpdate, 10)\nWebUI.click(btnUpdate)\n\nWebUI.delay(2)\n\n// ================== 8. VERIFY KẾT QUẢ ==================\n\nTestObject newTitleObj = new TestObject('newTitleObj')\nnewTitleObj.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//table[contains(@class,'k-grid-table')]//tbody//tr/td[2]//div[contains(@class,'column-2') and normalize-space(text())='${newTitle}']\"\n)\n\nWebUI.verifyElementPresent(newTitleObj, 10)\n\nTestObject oldTitleObj = new TestObject('oldTitleObj')\noldTitleObj.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//table[contains(@class,'k-grid-table')]//tbody//tr/td[2]//div[contains(@class,'column-2') and normalize-space(text())='${oldTitle}']\"\n)\n\nWebUI.verifyElementNotPresent(oldTitleObj, 3)\n\nWebUI.comment(\"✅ Banner '${oldTitle}' đã được cập nhật thành '${newTitle}' thành công.\")\n\n// ================== 9. ĐÓNG BROWSER ==================\nWebUI.closeBrowser()"
        },
        {
            "name": "Brand_Type_01",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\n\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport com.kms.katalon.core.configuration.RunConfiguration as RunConfiguration\n\n// =============== 1. DATA TEST ===============\nString brandCode = 'BR01_' + System.currentTimeMillis()    // để unique\nString brandName = 'Brand One Auto ' + System.currentTimeMillis()\n\nWebUI.comment('=== DATA TEST BRAND ===')\nWebUI.comment(\"Code = ${brandCode}\")\nWebUI.comment(\"Name = ${brandName}\")\n\n// Đường dẫn ảnh mẫu trong project -> chỉnh lại path nếu khác\nString imagePath = RunConfiguration.getProjectDir() + '/Data Files/CNTT.png'\n\n\n// =============== 2. LOGIN ===============\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// =============== 3. ĐI TỚI MÀN QUẢN LÝ THƯƠNG HIỆU ===============\n// Click menu \"QUẢN LÝ SẢN PHẨM\"\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_quan_ly_san_pham'))\n\n// Click sub menu \"Thương hiệu và phân loại\"\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_option_thuong_hieu_va_phan_loai'))\n\nWebUI.delay(2)\n\n\n// =============== 4. NHẬP FORM THƯƠNG HIỆU ===============\n\n// --- 4.1 Mã thương hiệu ---\nTestObject inputBrandCode = new TestObject('inputBrandCode')\ninputBrandCode.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//label[contains(normalize-space(),'Mã thương hiệu')]/following::input[@class='k-input-inner' and @placeholder='Nhập mã thương hiệu...'][1]\"\n)\nWebUI.setText(inputBrandCode, brandCode)\n\n// --- 4.2 Tên thương hiệu ---\nTestObject inputBrandName = new TestObject('inputBrandName')\ninputBrandName.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//label[contains(normalize-space(),'Tên thương hiệu')]/following::input[@class='k-input-inner' and @placeholder='Nhập tên thương hiệu...'][1]\"\n)\nWebUI.setText(inputBrandName, brandName)\n\n// --- 4.3 Upload ảnh thương hiệu ---\nTestObject inputFile = new TestObject('inputBrandImage')\ninputFile.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//kendo-fileselect//input[@type='file' and contains(@id,'k-fileselect-input')]\"\n)\n\n// upload file\nWebUI.uploadFile(inputFile, imagePath)\nWebUI.delay(1)\n\n\n// =============== 5. CLICK \"THÊM MỚI THƯƠNG HIỆU\" ===============\nTestObject btnAddBrand = new TestObject('btnAddBrand')\nbtnAddBrand.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//span[normalize-space(text())='Thêm mới thương hiệu']\"\n)\n\nWebUI.click(btnAddBrand)\n\n\n// =============== 6. VERIFY TOAST THÀNH CÔNG ===============\nString expectedMsg = 'Thêm mới thương hiệu thành công'   // chỉnh lại đúng message thực tế nếu khác\n\nTestObject toastSuccess = new TestObject('toastSuccess')\ntoastSuccess.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//div[contains(@class,'k-notification-content') and contains(normalize-space(),'${expectedMsg}')]\"\n)\n\n// chờ toast hiện\nWebUI.waitForElementVisible(toastSuccess, 10)\n\n// lấy text & verify\nString actualMsg = WebUI.getText(toastSuccess).trim()\nWebUI.comment(\"Toast message: \" + actualMsg)\n\n// dùng regex chứa expectedMsg cho chắc\nWebUI.verifyMatch(actualMsg, \".*${expectedMsg}.*\", true)\n\nWebUI.comment(\"✅ Thêm mới thương hiệu '${brandCode}' - '${brandName}' hiển thị toast thành công.\")\n\n// =============== 7. CLOSE ===============\nWebUI.closeBrowser()"
        },
        {
            "name": "Brand_Type_02",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\n\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\nimport com.kms.katalon.core.configuration.RunConfiguration as RunConfiguration\n\n// =============== 1. DATA TEST ===============\nString existedBrandCode = 'FIFA1'          // MÃ ĐÃ CÓ SẴN TRÊN HỆ THỐNG\nString brandName        = 'Brand Duplicate ' + System.currentTimeMillis()\n\nWebUI.comment('=== DATA TEST BRAND DUPLICATE ===')\nWebUI.comment(\"Code = ${existedBrandCode}\")\nWebUI.comment(\"Name = ${brandName}\")\n\n// ảnh dummy – chỉnh lại path nếu khác\nString imagePath = RunConfiguration.getProjectDir() + '/Data Files/CNTT.png'\n\n\n// =============== 2. LOGIN ===============\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// =============== 3. ĐI TỚI MÀN QUẢN LÝ THƯƠNG HIỆU ===============\n// Menu \"QUẢN LÝ SẢN PHẨM\"\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_quan_ly_san_pham'))\n\n// Sub menu \"Thương hiệu và phân loại\"\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_option_thuong_hieu_va_phan_loai'))\n\nWebUI.delay(2)\n\n\n// =============== 4. NHẬP FORM THƯƠNG HIỆU ===============\n\n// 4.1 Mã thương hiệu (trùng lặp)\nTestObject inputBrandCode = new TestObject('inputBrandCode')\ninputBrandCode.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//label[contains(normalize-space(),'Mã thương hiệu')]/following::input[@class='k-input-inner' and @placeholder='Nhập mã thương hiệu...'][1]\"\n)\nWebUI.setText(inputBrandCode, existedBrandCode)\n\n// 4.2 Tên thương hiệu\nTestObject inputBrandName = new TestObject('inputBrandName')\ninputBrandName.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//label[contains(normalize-space(),'Tên thương hiệu')]/following::input[@class='k-input-inner' and @placeholder='Nhập tên thương hiệu...'][1]\"\n)\nWebUI.setText(inputBrandName, brandName)\n\n// 4.3 Upload logo thương hiệu\nTestObject inputFile = new TestObject('inputBrandImage')\ninputFile.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//kendo-fileselect//input[@type='file' and contains(@id,'k-fileselect-input')]\"\n)\n\nWebUI.uploadFile(inputFile, imagePath)\nWebUI.delay(1)\n\n\n// =============== 5. CLICK \"THÊM MỚI THƯƠNG HIỆU\" ===============\nTestObject btnAddBrand = new TestObject('btnAddBrand')\nbtnAddBrand.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//span[normalize-space(text())='Thêm mới thương hiệu']\"\n)\n\nWebUI.click(btnAddBrand)\n\n\n// =============== 6. VERIFY TOAST LỖI MÃ TRÙNG ===============\nString expectedMsg = 'Mã thương hiệu đã bị trùng lặp'   // đúng theo spec\n\nTestObject toastDuplicate = new TestObject('toastDuplicate')\ntoastDuplicate.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//div[contains(@class,'k-notification-content') and contains(normalize-space(),'${expectedMsg}')]\"\n)\n\n// chờ toast lỗi xuất hiện\nWebUI.waitForElementVisible(toastDuplicate, 10)\n\n// lấy nội dung message\nString actualMsg = WebUI.getText(toastDuplicate).trim()\nWebUI.comment(\"Toast duplicate message: \" + actualMsg)\n\n// verify có chứa đúng thông báo\nWebUI.verifyMatch(actualMsg, \".*${expectedMsg}.*\", true)\n\nWebUI.comment('✅ Validate mã thương hiệu trùng lặp hiển thị đúng thông báo lỗi.')\n\n// =============== 7. CLOSE ===============\nWebUI.closeBrowser()"
        },
        {
            "name": "Brand_Type_03",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\n\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// =============== 1. DATA TEST ===============\nString brandCode = 'BR_NOIMG_' + System.currentTimeMillis()\nString brandName = 'Brand No Image ' + System.currentTimeMillis()\n\nWebUI.comment('=== DATA TEST BRAND MISSING IMAGE ===')\nWebUI.comment(\"Code = ${brandCode}\")\nWebUI.comment(\"Name = ${brandName}\")\n\n// =============== 2. LOGIN ===============\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// =============== 3. VÀO MÀN QUẢN LÝ THƯƠNG HIỆU ===============\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_quan_ly_san_pham'))\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_option_thuong_hieu_va_phan_loai'))\nWebUI.delay(2)\n\n// =============== 4. NHẬP FORM (KHÔNG UPLOAD ẢNH) ===============\n\n// 4.1 Mã thương hiệu\nTestObject inputBrandCode = new TestObject('inputBrandCode')\ninputBrandCode.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//label[contains(normalize-space(),'Mã thương hiệu')]/following::input[@class='k-input-inner' and @placeholder='Nhập mã thương hiệu...'][1]\"\n)\nWebUI.setText(inputBrandCode, brandCode)\n\n// 4.2 Tên thương hiệu\nTestObject inputBrandName = new TestObject('inputBrandName')\ninputBrandName.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//label[contains(normalize-space(),'Tên thương hiệu')]/following::input[@class='k-input-inner' and @placeholder='Nhập tên thương hiệu...'][1]\"\n)\nWebUI.setText(inputBrandName, brandName)\n\n// **KHÔNG** thực hiện uploadFile -> để trống ảnh thương hiệu\n\n// =============== 5. CLICK \"THÊM MỚI THƯƠNG HIỆU\" ===============\nTestObject btnAddBrand = new TestObject('btnAddBrand')\nbtnAddBrand.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//span[normalize-space(text())='Thêm mới thương hiệu']\"\n)\nWebUI.click(btnAddBrand)\n\n// =============== 6. VERIFY TOAST LỖI THIẾU ẢNH ===============\nString expectedMsg = 'Vui lòng chọn ảnh cho thương hiệu'\n\nTestObject toastMissingImage = new TestObject('toastMissingImage')\ntoastMissingImage.addProperty(\n        'xpath',\n        ConditionType.EQUALS,\n        \"//div[contains(@class,'k-notification-content') and contains(normalize-space(),'${expectedMsg}')]\"\n)\n\n// chờ toast hiện\nWebUI.waitForElementVisible(toastMissingImage, 10)\n\n// lấy text và kiểm tra\nString actualMsg = WebUI.getText(toastMissingImage).trim()\nWebUI.comment(\"Toast message: \" + actualMsg)\n\nWebUI.verifyMatch(actualMsg, \".*${expectedMsg}.*\", true)\n\nWebUI.comment('✅ Validate thiếu ảnh thương hiệu hiển thị đúng thông báo lỗi.')\n\n// =============== 7. ĐÓNG TRÌNH DUYỆT ===============\nWebUI.closeBrowser()"
        },
        {
            "name": "Brand_Type_04",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\n\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// =============== 1. DATA ===============\nString brandCode = 'FIFA01'      // mã thương hiệu có sẵn trong grid\nString oldName   = 'FIFA01'       // tên cũ (tùy bạn, có thể đổi cho khớp data thật)\nString newName   = 'FIFA1'      // tên mới\nString expectedToast = 'Cập nhật thương hiệu thành công'\n\nWebUI.comment('=== UPDATE BRAND TEST ===')\nWebUI.comment(\"Brand code  = ${brandCode}\")\nWebUI.comment(\"Old name    = ${oldName}\")\nWebUI.comment(\"New name    = ${newName}\")\n\n// =============== 2. LOGIN ===============\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// =============== 3. VÀO MÀN QUẢN LÝ THƯƠNG HIỆU ===============\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_quan_ly_san_pham'))\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_option_thuong_hieu_va_phan_loai'))\nWebUI.delay(2)\n\n// =============== 4. CLICK VÀO DÒNG BRAND CÓ MÃ = brandCode ===============\nTestObject rowBrand = new TestObject('rowBrand')\nrowBrand.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//kendo-grid//table[contains(@class,'k-grid-table')]\" +\n    \"//tbody//tr[.//div[contains(@class,'column-2') and normalize-space(.)='${brandCode}']]\"\n)\n\nWebUI.waitForElementVisible(rowBrand, 10)\nWebUI.click(rowBrand)\nWebUI.delay(1) // chờ form load\n\n// =============== 5. SỬA TÊN THƯƠNG HIỆU TRONG FORM ===============\nTestObject inputBrandName = new TestObject('inputBrandName')\ninputBrandName.addProperty(\n\t'xpath',\n\tConditionType.EQUALS,\n\t\"//label[contains(normalize-space(),'Tên thương hiệu')]\" +\n\t\"/following::input[@class='k-input-inner' and @placeholder='Nhập tên thương hiệu...'][1]\"\n)\n\nWebUI.waitForElementVisible(inputBrandName, 10)\nWebUI.clearText(inputBrandName)\nWebUI.setText(inputBrandName, newName)\n\n// =============== 6. CLICK NÚT \"CẬP NHẬT\" ===============\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/btn_cap_nhat'))\n\n// =============== 7. VERIFY TOAST ===============\nTestObject toastSuccess = new TestObject('toastSuccess')\ntoastSuccess.addProperty(\n\t'xpath',\n\tConditionType.EQUALS,\n\t\"//div[contains(@class,'k-notification-content') and \" +\n\t\"contains(normalize-space(),'${expectedToast}')]\"\n)\n\nWebUI.waitForElementVisible(toastSuccess, 10)\nString actualMsg = WebUI.getText(toastSuccess).trim()\nWebUI.verifyMatch(actualMsg, expectedToast, false)\nWebUI.comment(\"✅ Cập nhật thương hiệu thành công, toast hiển thị đúng: '${expectedToast}'\")\n\nWebUI.closeBrowser()"
        },
        {
            "name": "Brand_Type_05",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\n\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// =============== 1. DATA TEST ===============\nString typeCode = 'TYPE_' + System.currentTimeMillis()\nString typeName = 'Loại SP Auto ' + System.currentTimeMillis()\nString expectedToast = 'Thêm mới loại sản phẩm thành công'\n\nWebUI.comment('=== DATA TEST PHÂN LOẠI SẢN PHẨM ===')\nWebUI.comment(\"Mã loại  = ${typeCode}\")\nWebUI.comment(\"Tên loại = ${typeName}\")\n\n// =============== 2. LOGIN ===============\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// =============== 3. VÀO MÀN QUẢN LÝ THƯƠNG HIỆU & PHÂN LOẠI ===============\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_quan_ly_san_pham'))\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_option_thuong_hieu_va_phan_loai'))\nWebUI.delay(2)\n\n// =============== 4. NHẬP FORM PHÂN LOẠI SẢN PHẨM ===============\n\n// --- 4.1 Mã loại sản phẩm ---\nTestObject inputTypeCode = new TestObject('inputTypeCode')\ninputTypeCode.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//label[contains(normalize-space(),'Mã loại sản phẩm')]\" +\n    \"/following::input[@class='k-input-inner' and @placeholder='Nhập mã loại sản phẩm...'][1]\"\n)\nWebUI.setText(inputTypeCode, typeCode)\n\n// --- 4.2 Tên loại sản phẩm ---\nTestObject inputTypeName = new TestObject('inputTypeName')\ninputTypeName.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//label[contains(normalize-space(),'Tên loại sản phẩm')]\" +\n    \"/following::input[@class='k-input-inner' and @placeholder='Nhập tên loại sản phẩm...'][1]\"\n)\nWebUI.setText(inputTypeName, typeName)\n\n// =============== 5. CLICK \"THÊM MỚI LOẠI\" ===============\nTestObject btnAddType = new TestObject('btnAddType')\nbtnAddType.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'block-type')]//span[normalize-space(text())='Thêm mới loại']\"\n)\n\nWebUI.click(btnAddType)\n\n// =============== 6. VERIFY TOAST \"Thêm mới loại sản phẩm thành công\" ===============\nTestObject toastSuccess = new TestObject('toastSuccess')\ntoastSuccess.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'k-notification-content') and \" +\n    \"contains(normalize-space(),'${expectedToast}')]\"\n)\n\n// chờ toast xuất hiện\nWebUI.waitForElementVisible(toastSuccess, 10)\n\n// lấy text thực tế\nString actualMsg = WebUI.getText(toastSuccess).trim()\nWebUI.comment(\"Toast message = \" + actualMsg)\n\n// so sánh đúng thông báo\nWebUI.verifyMatch(actualMsg, expectedToast, false)\n\nWebUI.comment(\"✅ Thêm mới loại sản phẩm thành công, toast hiển thị đúng: '${expectedToast}'\")\n\n// =============== 7. CLOSE ===============\nWebUI.closeBrowser()"
        },
        {
            "name": "Brand_Type_06",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\n\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// =============== 1. DATA TEST ===============\nString typeName = 'Loại SP thiếu mã ' + System.currentTimeMillis()\nString expectedToast = 'Vui lòng nhập mã loại sản phẩm'   // chỉnh theo message thật trên hệ thống\n\nWebUI.comment('=== THÊM LOẠI SP THIẾU TRƯỜNG BẮT BUỘC ===')\nWebUI.comment(\"Tên loại = ${typeName}\")\n\n// =============== 2. LOGIN ===============\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// =============== 3. VÀO MÀN QUẢN LÝ THƯƠNG HIỆU & PHÂN LOẠI ===============\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_quan_ly_san_pham'))\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_option_thuong_hieu_va_phan_loai'))\nWebUI.delay(2)\n\n// =============== 4. CHỈ NHẬP TÊN LOẠI SẢN PHẨM, KHÔNG NHẬP MÃ ===============\n\n// --- KHÔNG đụng vào \"Mã loại sản phẩm\" -> để trống ---\n\n// --- 4.1 Tên loại sản phẩm ---\nTestObject inputTypeName = new TestObject('inputTypeName')\ninputTypeName.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//label[contains(normalize-space(),'Tên loại sản phẩm')]\" +\n    \"/following::input[@class='k-input-inner' and @placeholder='Nhập tên loại sản phẩm...'][1]\"\n)\n\nWebUI.setText(inputTypeName, typeName)\n\n// =============== 5. CLICK \"THÊM MỚI LOẠI\" ===============\nTestObject btnAddType = new TestObject('btnAddType')\nbtnAddType.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'block-type')]//span[normalize-space(text())='Thêm mới loại']\"\n)\n\nWebUI.click(btnAddType)\n\n// =============== 6. VERIFY TOAST LỖI ===============\nTestObject toastError = new TestObject('toastError')\ntoastError.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'k-notification-content') and \" +\n    \"contains(normalize-space(),'${expectedToast}')]\"\n)\n\n// chờ toast xuất hiện\nWebUI.waitForElementVisible(toastError, 10)\n\n// lấy text thực tế\nString actualMsg = WebUI.getText(toastError).trim()\nWebUI.comment(\"Toast message = \" + actualMsg)\n\n// so sánh đúng thông báo\nWebUI.verifyMatch(actualMsg, expectedToast, false)\n\nWebUI.comment(\"✅ Hiển thị đúng validation khi thiếu Mã loại sản phẩm: '${expectedToast}'\")\n\n// =============== 7. CLOSE ===============\nWebUI.closeBrowser()"
        },
        {
            "name": "Brand_Type_07",
            "rawcode": "import org.openqa.selenium.WebElement as WebElement\nimport static com.kms.katalon.core.testobject.ObjectRepository.findTestObject\nimport static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase\n\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.model.FailureHandling as FailureHandling\nimport com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI\n\n// =============== 1. DATA ===============\nString typeCode      = 'RUN01'          // Mã loại sản phẩm có sẵn trong grid\nString oldTypeName   = 'Running Shoes'  // Tên cũ (tuỳ data thật)\nString newTypeName   = 'Running Shoes Updated ' + System.currentTimeMillis()\nString expectedToast = 'Cập nhật loại sản phẩm thành công'\n\nWebUI.comment('=== UPDATE LOẠI SẢN PHẨM TEST ===')\nWebUI.comment(\"Code      = ${typeCode}\")\nWebUI.comment(\"Old name  = ${oldTypeName}\")\nWebUI.comment(\"New name  = ${newTypeName}\")\n\n// =============== 2. LOGIN ===============\nWebUI.callTestCase(findTestCase('Login_Success'), [:], FailureHandling.STOP_ON_FAILURE)\nWebUI.delay(2)\n\n// =============== 3. VÀO MÀN QUẢN LÝ THƯƠNG HIỆU & PHÂN LOẠI ===============\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_quan_ly_san_pham'))\nWebUI.click(findTestObject('Page_HyperS/Brand_Type/dropdown_option_thuong_hieu_va_phan_loai'))\nWebUI.delay(2)\n\n// =============== 4. CLICK DÒNG LOẠI SẢN PHẨM CÓ MÃ = typeCode ===============\nTestObject rowType = new TestObject('rowType')\nrowType.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'block-type')]//table[1]\" +\n    \"//tbody//tr[td[1][normalize-space(.)='${typeCode}']]\"  // cột 1 = Mã loại sản phẩm\n)\n\nWebUI.waitForElementVisible(rowType, 10)\nWebUI.click(rowType)\nWebUI.delay(1) // chờ form load data lên\n\n// =============== 5. SỬA TÊN LOẠI SẢN PHẨM ===============\nTestObject inputTypeName = new TestObject('inputTypeName')\ninputTypeName.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//label[contains(normalize-space(),'Tên loại sản phẩm')]\" +\n    \"/following::input[@class='k-input-inner' and @placeholder='Nhập tên loại sản phẩm...'][1]\"\n)\n\nWebUI.waitForElementVisible(inputTypeName, 10)\n\n// clear + nhập tên mới\nWebUI.clearText(inputTypeName)\nWebUI.setText(inputTypeName, newTypeName)\n\n// =============== 6. CLICK NÚT \"CẬP NHẬT\" ===============\nTestObject btnUpdateType = new TestObject('btnUpdateType')\nbtnUpdateType.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'block-type')]//span[normalize-space(text())='Cập nhật']\"\n)\n\nWebUI.waitForElementClickable(btnUpdateType, 10)\nWebUI.click(btnUpdateType)\n\n// =============== 7. VERIFY TOAST \"Cập nhật loại sản phẩm thành công\" ===============\nTestObject toastSuccess = new TestObject('toastSuccessType')\ntoastSuccess.addProperty(\n    'xpath',\n    ConditionType.EQUALS,\n    \"//div[contains(@class,'k-notification-content') and \" +\n    \"contains(normalize-space(),'${expectedToast}')]\"\n)\n\nWebUI.waitForElementVisible(toastSuccess, 10)\n\n// lấy text thực tế\nString actualMsg = WebUI.getText(toastSuccess).trim()\nWebUI.comment(\"Toast message = \" + actualMsg)\n\n// so sánh đúng thông báo\nWebUI.verifyMatch(actualMsg, expectedToast, false)\n\nWebUI.comment(\"✅ Cập nhật loại sản phẩm thành công, toast hiển thị đúng: '${expectedToast}'\")\n\n// =============== 8. CLOSE ===============\nWebUI.closeBrowser()"
        }
    ]
}